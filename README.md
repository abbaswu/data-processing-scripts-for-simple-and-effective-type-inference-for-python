# Data Processing Scripts for "Simple and Effective Type Inference for Python"

All data processing scripts for "Simple and Effective Type Inference for Python."

The script `strip_type_annotations.py` removes type annotations in Python files within a given directory.

The scripts:

- `parse_pyre_stdout.py`
- `parse_pytype_result_directory.py`
- `parse_stray_result_directory.py`
- `parse_hityper_output_directory.py`

handles *post-processing* for outputs generated by Pyre, Pytype, Stray, and HiTyper, respectively. Each script accepts a JSON object known as a "query dict" as one of their command-line arguments, and outputs another JSON object known as a "result dict" to stdout.

A "query dict" specifies which parameters and return values of which functions to infer types for. It can be represented using the Python data type:

```python
dict[
    str, # module_name
    dict[
        str, # class_name_or_global
        dict[
            str, # function_name
            list[
                str # parameter_name_or_return
            ]
        ]
    ]
]
```

For example:

```json
{
  "src.meerkat.configurations.infrastructure.rest.health.registry": {
    "HealthService": {
      "boot": [
        "container"
      ]
    }
  },
  "src.meerkat.data_providers.database.mongo.transformers": {
    "PostDocumentTransformer": {
      "transform_to_domain_object": [
        "return"
      ]
    }
  },
  "src.meerkat.domain.post.value_objects.id": {
    "Id": {
      "__init__": [
        "value"
      ]
    }
  },
  "src.meerkat.entrypoints.rest.post.registry": {
    "PostService": {
      "boot": [
        "container"
      ]
    }
  }
}
```

A result dict contains the zero, one, or many types inferred by a type inference method for the parameters and return values specified by a query dict. It can be represented using the Python data type:

```python
dict[
    str, # module_name
    dict[
        str, # class_name_or_global
        dict[
            str, # function_name
            dict[
                str, # parameter_name_or_return
                list[
                    str # type_annotation_string
                ]
            ]
        ]
    ]
]
```

For example:

```json
{
  "src.meerkat.configurations.infrastructure.rest.health.registry": {
    "HealthService": {
      "boot": {
        "container": []
      }
    }
  },
  "src.meerkat.data_providers.database.mongo.transformers": {
    "PostDocumentTransformer": {
      "transform_to_domain_object": {
        "return": []
      }
    }
  },
  "src.meerkat.domain.post.value_objects.id": {
    "Id": {
      "__init__": {
        "value": [
          "uuid.UUID"
        ]
      }
    }
  },
  "src.meerkat.entrypoints.rest.post.registry": {
    "PostService": {
      "boot": {
        "container": [
          "rest.post.registry.PostService"
        ]
      }
    }
  }
}
```
